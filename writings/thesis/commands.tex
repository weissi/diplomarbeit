%
% SPECIAL IMPORTS
%
\usepackage{xparse}
\usepackage{boxedminipage}


%
% GENERAL
%

% environments
\NewDocumentEnvironment{JWboxed}{mm}%
  {\begin{figure}[ht]%
   \small%
   \begin{boxedminipage}{\linewidth}%
  }%
  {\end{boxedminipage}%
   \caption{#1}%
   \label{#2}%
   \end{figure}%
  }

% functionality
\newenvironment{JWfunc}[3]%
{\begin{JWboxed}{#2}{#3}%
 \begin{center}\textbf{{Functionality #1}}\end{center}%
}%
{\end{JWboxed}}

\newenvironment{JWfuncSteps}[0]{\begin{itemize}}{\end{itemize}}

\newcommand{\JWfuncSym}[2]{$\mathcal{F}^\mathrm{#1}_\mathrm{#2}$}

%protocol
\newenvironment{JWprotocol}[3]%
{\begin{JWboxed}{#2}{#3}%
 \begin{center}\textbf{{Protocol #1}}\end{center}%
}%
{\end{JWboxed}}

\newenvironment{JWprotoSteps}[0]{\begin{enumerate}}{\end{enumerate}}

\newcommand{\JWprotoPhase}[1]{\paragraph{#1}}

\newcommand{\JWprotoSym}[2]{$\Pi^\mathrm{#1}_\mathrm{#2}$}

%misc
\newcommand{\JWbinary}[1]{\texttt{#1}}
\newcommand{\JWtodo}[1]{\fbox{TODO: #1}}
\newcommand{\JWmsgTwo}[2]{(\texttt{#1}, \texttt{#2})}
\newcommand{\JWpath}[1]{\texttt{#1}}

\DeclareDocumentCommand\JWdef{mmg}{%
  {\label{def:#2}\emph{#1\IfNoValueF{#3}{#3}}%
  } (#2%
  \IfNoValueF{#3}{#3}%
  )%
}

\newenvironment{JWtodoBox}[0]%
  {\begin{boxedminipage}{\linewidth}TODO:\par}{\end{boxedminipage}}

%chapters
\makeatletter
\newcommand{\JWlone}{\@ifstar
  \JWloneNoTOC%
  \JWloneTOC%
}
\newcommand{\JWltwo}{\@ifstar
  \JWltwoNoTOC%
  \JWltwoTOC%
}
\newcommand{\JWlthree}{\@ifstar
  \JWlthreeNoTOC%
  \JWlthreeTOC%
}
\newcommand{\JWlfour}{\@ifstar
  \JWlfourNoTOC%
  \JWlfourTOC%
}
\newcommand{\JWlfive}{\@ifstar
  \JWlfiveNoTOC%
  \JWlfiveTOC%
}
\newcommand{\JWlsix}{\@ifstar
  \JWlsixNoTOC%
  \JWlsixTOC%
}

\newcommand{\JWloneTOC}[1]{\chapter{#1}}
\newcommand{\JWloneNoTOC}[1]{\chapter*{#1}}
\newcommand{\JWltwoTOC}[1]{\section{#1}}
\newcommand{\JWltwoNoTOC}[1]{\section*{#1}}
\newcommand{\JWlthreeTOC}[1]{\subsection{#1}}
\newcommand{\JWlthreeNoTOC}[1]{\subsection*{#1}}
\newcommand{\JWlfourTOC}[1]{\subsubsection{#1}}
\newcommand{\JWlfourNoTOC}[1]{\subsubsection*{#1}}
\newcommand{\JWlfiveTOC}[1]{\paragraph{#1}}
\newcommand{\JWlfiveNoTOC}[1]{\paragraph*{#1}}
\newcommand{\JWlsixTOC}[1]{\subparagraph{#1}}
\newcommand{\JWlsixNoTOC}[1]{\subparagraph*{#1}}

%links and names
\newcommand{\JWnamedlink}[2]{\href{#1}{#2}}

%code
\newcommand{\JWcode}[1]{\texttt{#1}}


%lemmata/theorems
\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}


%
% SPECIALIZED SHORTCUTS
%
\newcommand{\JWprotoSymOPE}[0]{\JWprotoSym{}{OPE}}
\newcommand{\JWfuncSymOPE}[0]{\JWfuncSym{(q, k)}{OPE}}
\newcommand{\JWfieldGeneral}[0]{\mathbb{F}_q^k}
\newcommand{\JWpOne}[0]{Goliath}
\newcommand{\JWpTwo}[0]{David}
\newcommand{\JWtoken}[0]{Token}

%tools ans versions
\newcommand{\JWThaskell}[0]{Haskell}
\newcommand{\JWTghc}[0]{GHC}
\newcommand{\JWTXghc}[0]{Glasgow Haskell Compiler}
\newcommand{\JWTLhaskell}[0]{\JWnamedlink{http://haskell.org}{\JWThaskell}}
\newcommand{\JWTXLghc}[0]{\JWnamedlink{http://www.haskell.org/ghc/}{\JWTXghc}}
\newcommand{\JWTVghc}{7.6.1}
\newcommand{\JWTntl}[0]{NTL}
\newcommand{\JWTLntl}[0]{\JWnamedlink{http://www.shoup.net/ntl/}{\JWTntl}}
\newcommand{\JWTcpp}[0]{C++}
\newcommand{\JWTc}[0]{C}
\newcommand{\JWTquickcheck}[0]{QuickCheck}
\newcommand{\JWTLhunit}[0]{\JWnamedlink{http://hunit.sourceforge.net/}{HUnit}}
\newcommand{\JWTLmonadcryptorandom}[0]%
  {\JWnamedlink{http://hackage.haskell.org/package/monadcryptorandom}%
  {\texttt{monadcryptorandom}}}
\newcommand{\JWTXprotobuf}{Google\TTra{} Protocol Buffers}
\newcommand{\JWTXLprotobuf}[0]%
  {\JWnamedlink{http://code.google.com/apis/protocolbuffers/}{\JWTXprotobuf{}}}
\newcommand{\JWTLhackage}[0]%
  {\JWnamedlink{http://hackage.haskell.org/packages/hackage.html}{HackageDB}}


%binaries
\newcommand{\JWBpOne}[0]{\JWbinary{\JWpOne{}}}
\newcommand{\JWBpTwo}[0]{\JWbinary{\JWpTwo{}}}
\newcommand{\JWBtoken}[0]{\JWbinary{\JWtoken{}}}

%misc
\newcommand{\JWport}[1]{\texttt{#1}}
\def\TReg{\textsuperscript{\textregistered}}
\def\TCop{\textsuperscript{\textcopyright}}
\def\TTra{\textsuperscript{\texttrademark}}
