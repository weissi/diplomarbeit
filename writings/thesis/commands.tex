%
% SPECIAL IMPORTS
%
\usepackage{xparse}
\usepackage{boxedminipage}


%
% GENERAL
%

% environments
\NewDocumentEnvironment{JWboxed}{mm}%
  {\begin{figure}[ht]%
   \small%
   \begin{boxedminipage}{\linewidth}%
  }%
  {\end{boxedminipage}%
   \caption{#1}%
   \label{#2}%
   \end{figure}%
  }

% functionality
\newenvironment{JWfunc}[3]%
{\begin{JWboxed}{#2}{#3}%
 \begin{center}\textbf{{Functionality #1}}\end{center}%
}%
{\end{JWboxed}}

\newenvironment{JWfuncSteps}[0]{\begin{itemize}}{\end{itemize}}

\newcommand{\JWfuncSym}[2]{$\mathcal{F}^\mathrm{#1}_\mathrm{#2}$}

%protocol
\newenvironment{JWprotocol}[3]%
{\begin{JWboxed}{#2}{#3}%
 \begin{center}\textbf{{Protocol #1}}\end{center}%
}%
{\end{JWboxed}}

\newenvironment{JWprotoSteps}[0]{\begin{enumerate}}{\end{enumerate}}

\newcommand{\JWprotoPhase}[1]{\paragraph{#1}}

\newcommand{\JWprotoSym}[2]{$\Pi^\mathrm{#1}_\mathrm{#2}$}

%misc
\newcommand{\JWbinary}[1]{\texttt{#1}}
\newcommand{\JWtodo}[1]{\fbox{TODO: #1}}
\newcommand{\JWmsgTT}[2]{(\texttt{#1}, \texttt{#2})}
\newcommand{\JWmsgT}[1]{(\texttt{#1})}
\newcommand{\JWmsgTP}[2]{(\texttt{#1}, #2)}
\newcommand{\JWpath}[1]{\texttt{#1}}

\DeclareDocumentCommand\JWdefn{mmg}{%
  {\emph{#1\IfNoValueF{#3}{#3}}%
  } (#2%
  \IfNoValueF{#3}{#3}%
  )%
}

\DeclareDocumentCommand\JWdef{mmg}{%
  {\label{def:#2}\emph{#1\IfNoValueF{#3}{#3}}%
  } (#2%
  \IfNoValueF{#3}{#3}%
  )%
}

\newenvironment{JWtodoBox}[0]%
  {\begin{boxedminipage}{\linewidth}TODO:\par}{\end{boxedminipage}}

%chapters
\makeatletter
\newcommand{\JWlone}{\@ifstar
  \JWloneNoTOC%
  \JWloneTOC%
}
\newcommand{\JWltwo}{\@ifstar
  \JWltwoNoTOC%
  \JWltwoTOC%
}
\newcommand{\JWlthree}{\@ifstar
  \JWlthreeNoTOC%
  \JWlthreeTOC%
}
\newcommand{\JWlfour}{\@ifstar
  \JWlfourNoTOC%
  \JWlfourTOC%
}
\newcommand{\JWlfive}{\@ifstar
  \JWlfiveNoTOC%
  \JWlfiveTOC%
}
\newcommand{\JWlsix}{\@ifstar
  \JWlsixNoTOC%
  \JWlsixTOC%
}

\newcommand{\JWloneTOC}[1]{\chapter{#1}}
\newcommand{\JWloneNoTOC}[1]{\chapter*{#1}}
\newcommand{\JWltwoTOC}[1]{\section{#1}}
\newcommand{\JWltwoNoTOC}[1]{\section*{#1}}
\newcommand{\JWlthreeTOC}[1]{\subsection{#1}}
\newcommand{\JWlthreeNoTOC}[1]{\subsection*{#1}}
\newcommand{\JWlfourTOC}[1]{\subsubsection{#1}}
\newcommand{\JWlfourNoTOC}[1]{\subsubsection*{#1}}
\newcommand{\JWlfiveTOC}[1]{\paragraph{#1}}
\newcommand{\JWlfiveNoTOC}[1]{\paragraph*{#1}}
\newcommand{\JWlsixTOC}[1]{\subparagraph{#1}}
\newcommand{\JWlsixNoTOC}[1]{\subparagraph*{#1}}

%links and names
\newcommand{\JWnamedlink}[2]{\href{#1}{#2}}
\newcommand{\JWnamedlinkfn}[2]{\href{#1}{#2}%
                               \footnote{\JWnamedlink{#1}{\texttt{#1}}}}
\newcommand{\JWurl}[1]{\href{#1}{#1}}

%code/commands
\newcommand{\JWcode}[1]{\texttt{#1}}
\newcommand{\JWcmd}[1]{\texttt{\$ #1}}
\newcommand{\JWhsExt}[1]{\texttt{#1}}


%lemmata/theorems
\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}


%
% SPECIALIZED SHORTCUTS
%
\newcommand{\JWprotoSymOPE}[0]{\JWprotoSym{}{OPE}}
\newcommand{\JWfuncSymOPE}[0]{\JWfuncSym{(k, n)}{OPE}}
\newcommand{\JWfuncSymOPEnp}[0]{\JWfuncSym{}{OPE}}
\newcommand{\JWfuncSymOAFE}[0]{\JWfuncSym{}{OAFE}}
\newcommand{\JWfieldGeneral}[0]{\mathbb{F}_{2^k}}
\newcommand{\JWadv}[0]{$\mathcal{A}$}
\newcommand{\JWpOne}[0]{Goliath}
\newcommand{\JWpTwo}[0]{David}
\newcommand{\JWtoken}[0]{Token}
\newcommand{\JWnegl}[0]{\text{*) Except for a negligible probability.}}
\newcommand{\JWtitle}[0]{Efficient Secure Function Evaluation using Garbled %
Arithmetic Circuits and Untrusted Tamper--Proof Hardware}
\newcommand{\entspricht}{\stackrel{\scriptscriptstyle\wedge}{=}}

%tools ans versions
\newcommand{\JWThaskell}[0]{Has\-kell}
\newcommand{\JWTghc}[0]{GHC}
\newcommand{\JWTXghc}[0]{Glas\-gow Has\-kell Com\-pi\-ler}
\newcommand{\JWTLhaskell}[0]{\JWnamedlinkfn{http://haskell.org}{\JWThaskell}}
\newcommand{\JWTLhaddock}[0]{\JWnamedlinkfn{http://www.haskell.org/haddock/}%
                            {Haddock}}
\newcommand{\JWTcabal}[0]{Cabal}
\newcommand{\JWTLcabal}[0]{\JWnamedlinkfn{http://www.haskell.org/cabal/}%
                          {\JWTcabal{}}}
\newcommand{\JWTXLghc}[0]{\JWnamedlinkfn{http://www.haskell.org/ghc/}{\JWTXghc}}
\newcommand{\JWTVghc}{7.6.1}
\newcommand{\JWTntl}[0]{NTL}
\newcommand{\JWTLntl}[0]{\JWnamedlinkfn{http://www.shoup.net/ntl/}{\JWTntl}}
\newcommand{\JWTcpp}[0]{C++}
\newcommand{\JWTc}[0]{C}
\newcommand{\JWTgit}[0]{git}
\newcommand{\JWTquickcheck}[0]{Quick\-Check}
\newcommand{\JWTLhunit}[0]{\JWnamedlinkfn{http://hunit.sourceforge.net/}{HUnit}}
\newcommand{\JWTLmonadcryptorandom}[0]%
  {\JWnamedlinkfn{http://hackage.haskell.org/package/monadcryptorandom}%
  {\texttt{monadcryptorandom}}}
\newcommand{\JWTLhaskellForMaths}[0]%
  {\JWnamedlinkfn{http://hackage.haskell.org/package/HaskellForMaths}%
  {\texttt{Haskell\-For\-Maths}}}
\newcommand{\JWTdrbg}[0]{\texttt{DRBG}}
\newcommand{\JWTLdrbg}[0]%
  {\JWnamedlinkfn{http://hackage.haskell.org/package/DRBG}{\JWTdrbg}}
\newcommand{\JWTXprotobuf}{Goo\-gle\TTra{} Pro\-to\-col Buff\-ers}
\newcommand{\JWTprotobuf}{Pro\-to\-col Buff\-ers}
\newcommand{\JWTXLprotobuf}[0]%
           {\JWnamedlinkfn{http://code.google.com/apis/protocolbuffers/}%
           {\JWTXprotobuf{}}}
\newcommand{\JWTprotobufLib}[0]%
  {\JWnamedlinkfn{http://hackage.haskell.org/package/protocol-buffers}%
  {\texttt{protocol-buffers}}}
\newcommand{\JWTLhackage}[0]%
  {\JWnamedlinkfn{http://hackage.haskell.org/packages/hackage.html}{HackageDB}}
\newcommand{\JWThprotoc}[0]{\texttt{hprotoc}}
\newcommand{\JWTLhprotoc}[0]%
           {\JWnamedlinkfn{http://hackage.haskell.org/package/hprotoc}%
           {\JWThprotoc{}}}
\newcommand{\JWTXLgpl}[0]%
  {\JWnamedlinkfn{http://www.gnu.org/licenses/gpl-3.0.html}%
                 {\emph{GNU General Public License (Version 3)}}}


%binaries
\newcommand{\JWBpOne}[0]{\JWbinary{\JWpOne{}}}
\newcommand{\JWBpTwo}[0]{\JWbinary{\JWpTwo{}}}
\newcommand{\JWBtoken}[0]{\JWbinary{\JWtoken{}}}

%misc
\newcommand{\JWport}[1]{\texttt{#1}}
\def\TReg{\textsuperscript{\textregistered}}
\def\TCop{\textsuperscript{\textcopyright}}
\def\TTra{\textsuperscript{\texttrademark}}
